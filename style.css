/* === RESET & VARIABLES === */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --navy: #1a237e;
  --navy-light: #283593;
  --gold: #c9a84c;
  --gold-light: #faf5e8;
  --gold-border: rgba(201,168,76,0.4);
  --bg: #f5f5f7;
  --white: #ffffff;
  --text: #1a1a1a;
  --text-muted: #777;
  --text-light: #aaa;
  --border: #e2e2e2;
  --card-shadow: 0 1px 4px rgba(0,0,0,0.05);
  --card-hover: 0 6px 20px rgba(26,35,126,0.1);
  --radius: 12px;
  --transition: 0.2s ease;
  --touch-min: 48px; /* minimum touch target */
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Outfit', sans-serif;
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  padding-bottom: 110px;
  -webkit-tap-highlight-color: transparent;
}

/* === HEADER === */
.header {
  background: var(--navy);
  color: var(--white);
  padding: 16px 20px 10px;
  position: sticky;
  top: 0;
  z-index: 100;
}
.header-inner {
  max-width: 1400px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.header-left {}
.brand-name {
  font-family: 'Cormorant Garamond', serif;
  font-size: 26px;
  font-weight: 700;
  letter-spacing: 3px;
}
.brand-sub {
  font-size: 12px;
  font-weight: 300;
  opacity: 0.6;
  letter-spacing: 1px;
}
.header-right {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-shrink: 0;
}
.exchange-badge, .date-badge {
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 500;
}
.exchange-badge { color: var(--gold); background: rgba(201,168,76,0.15); border: 1px solid rgba(201,168,76,0.25); }
.date-badge { color: rgba(255,255,255,0.5); background: rgba(255,255,255,0.08); }

/* QUICK ACTIONS */
.quick-actions {
  max-width: 1400px;
  margin: 10px auto 0;
  display: flex;
  gap: 8px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.quick-actions::-webkit-scrollbar { display: none; }
.btn-quick {
  flex-shrink: 0;
  padding: 8px 16px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.1);
  color: var(--white);
  font-family: 'Outfit', sans-serif;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  min-height: var(--touch-min);
  display: flex;
  align-items: center;
}
.btn-quick:hover { background: rgba(255,255,255,0.2); }
.btn-quick:active { background: var(--gold); color: var(--navy); }
.btn-quick-danger { border-color: rgba(244,67,54,0.4); color: rgba(255,255,255,0.6); }
.btn-quick-danger:hover { background: rgba(244,67,54,0.2); }
.btn-quick-danger:active { background: #f44336; color: #fff; }

/* === SECTION TABS === */
.section-tabs {
  background: var(--white);
  border-bottom: 1px solid var(--border);
  padding: 0 20px;
  display: flex;
  overflow-x: auto;
  position: sticky;
  top: 108px;
  z-index: 90;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.section-tabs::-webkit-scrollbar { display: none; }

.tab-btn {
  padding: 12px 16px;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  font-family: 'Outfit', sans-serif;
  font-size: 12px;
  font-weight: 500;
  color: var(--text-muted);
  cursor: pointer;
  white-space: nowrap;
  transition: var(--transition);
  min-height: var(--touch-min);
}
.tab-selected { color: var(--gold); font-weight: 600; }
.tab-selected.active { border-bottom-color: var(--gold); background: var(--gold-light); }
.tab-btn:hover { color: var(--navy); }
.tab-btn.active {
  color: var(--navy);
  border-bottom-color: var(--gold);
  font-weight: 600;
}
.tab-count {
  display: inline-block;
  background: var(--gold);
  color: var(--white);
  font-size: 10px;
  font-weight: 700;
  padding: 1px 6px;
  border-radius: 10px;
  margin-left: 4px;
  opacity: 0;
  transform: scale(0.6);
  transition: var(--transition);
}
.tab-count.visible { opacity: 1; transform: scale(1); }

/* === MAIN === */
.main {
  max-width: 1400px;
  margin: 0 auto;
  padding: 16px 16px;
}

/* === SECTION GROUP === */
.section-group {
  margin-bottom: 24px;
  display: none;
}
.section-group.visible { display: block; }

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  padding: 10px 14px;
  background: var(--white);
  border-radius: var(--radius);
  border-left: 4px solid var(--gold);
}
.section-title-wrap {}
.section-num {
  font-family: 'Cormorant Garamond', serif;
  font-size: 28px;
  font-weight: 700;
  color: var(--gold);
  line-height: 1;
  display: inline;
  margin-right: 10px;
}
.section-title {
  font-size: 16px;
  font-weight: 600;
  color: var(--navy);
  display: inline;
}
.section-title-ru {
  display: block;
  font-size: 12px;
  color: var(--text-muted);
  margin-top: 2px;
}
.section-actions {
  display: flex;
  gap: 6px;
  flex-shrink: 0;
}
.btn-sec {
  padding: 8px 14px;
  border-radius: 8px;
  border: none;
  font-family: 'Outfit', sans-serif;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: var(--transition);
  min-height: var(--touch-min);
  display: flex;
  align-items: center;
  white-space: nowrap;
}
.btn-sec-add {
  background: var(--navy);
  color: var(--white);
}
.btn-sec-add:hover { background: var(--navy-light); }
.btn-sec-add:active { background: var(--gold); color: var(--navy); }

/* === PRODUCT GRID === */
.product-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
}

/* === PRODUCT CARD === */
.product-card {
  background: var(--white);
  border-radius: var(--radius);
  border: 2px solid transparent;
  box-shadow: var(--card-shadow);
  overflow: hidden;
  transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
}
.product-card:hover { box-shadow: var(--card-hover); }
.product-card.selected {
  border-color: var(--gold);
  background: var(--gold-light);
}

/* IMAGE */
.card-img-wrap {
  width: 100%;
  aspect-ratio: 1;
  overflow: hidden;
  background: #f3f3f3;
  position: relative;
}
.card-img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  padding: 10px;
  transition: transform 0.3s ease;
}
.product-card:hover .card-img { transform: scale(1.05); }

/* VOLUME BADGE â€” prominent */
.card-vol {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(26,35,126,0.9);
  color: var(--white);
  font-size: 13px;
  font-weight: 700;
  padding: 5px 0;
  text-align: center;
  letter-spacing: 1px;
}

/* ADD +1 QUICK BUTTON on image */
.card-quick-add {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--navy);
  color: var(--white);
  border: none;
  font-size: 22px;
  font-weight: 700;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0.7;
  transition: var(--transition);
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}
.card-quick-add:hover { opacity: 1; transform: scale(1.1); }
.card-quick-add:active { background: var(--gold); color: var(--navy); transform: scale(0.95); }

/* BODY */
.card-body { padding: 12px; }

/* NAME: Russian MAIN */
.card-name-ru {
  font-size: 14px;
  font-weight: 600;
  color: var(--navy);
  line-height: 1.35;
  margin-bottom: 3px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
/* NAME: English secondary */
.card-name-en {
  font-size: 11px;
  font-weight: 400;
  color: var(--text-muted);
  line-height: 1.3;
  margin-bottom: 1px;
}
/* NAME: Korean tertiary */
.card-name-kr {
  font-size: 10px;
  font-weight: 400;
  color: var(--text-light);
  line-height: 1.3;
  margin-bottom: 8px;
}

/* PRICE */
.card-price {
  font-size: 20px;
  font-weight: 700;
  color: var(--navy);
  margin-bottom: 10px;
  letter-spacing: -0.5px;
}

/* QUANTITY */
.qty-row {
  display: flex;
  align-items: center;
  border: 1px solid var(--border);
  border-radius: 10px;
  overflow: hidden;
}
.qty-btn {
  width: var(--touch-min);
  height: var(--touch-min);
  background: var(--bg);
  border: none;
  font-size: 20px;
  font-weight: 700;
  color: var(--navy);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
  -webkit-user-select: none;
  user-select: none;
}
.qty-btn:hover { background: var(--gold-light); }
.qty-btn:active { background: var(--gold); color: var(--white); }
.qty-input {
  flex: 1;
  height: var(--touch-min);
  border: none;
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
  text-align: center;
  font-family: 'Outfit', sans-serif;
  font-size: 16px;
  font-weight: 700;
  color: var(--navy);
  background: var(--white);
  outline: none;
  min-width: 0;
}
.qty-input:focus { background: var(--gold-light); }

/* SUBTOTAL */
.card-subtotal {
  text-align: right;
  font-size: 14px;
  font-weight: 700;
  color: var(--gold);
  margin-top: 6px;
  min-height: 22px;
  transition: var(--transition);
}

/* === EMPTY STATE === */
.empty-state {
  text-align: center;
  padding: 80px 20px;
  color: var(--text-muted);
  display: none;
}
.empty-state.visible { display: block; }
.empty-icon { font-size: 56px; margin-bottom: 16px; }
.empty-state p { font-size: 16px; line-height: 1.6; }
.empty-hint { font-size: 13px; margin-top: 6px; color: var(--text-light); }

/* === BOTTOM BAR === */
.bottom-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--white);
  border-top: 2px solid var(--navy);
  box-shadow: 0 -4px 24px rgba(0,0,0,0.1);
  z-index: 100;
  transform: translateY(100%);
  transition: transform 0.3s ease;
}
.bottom-bar.visible { transform: translateY(0); }

.bottom-inner {
  max-width: 1400px;
  margin: 0 auto;
  padding: 12px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
}
.bottom-stats { display: flex; gap: 24px; }
.stat { display: flex; flex-direction: column; }
.stat-label { font-size: 10px; color: var(--text-muted); font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
.stat-value { font-size: 20px; font-weight: 700; color: var(--navy); }
.stat-total .stat-value { color: var(--gold); font-size: 26px; }

.bottom-actions { display: flex; gap: 8px; flex-shrink: 0; }
.btn-reset {
  width: var(--touch-min);
  height: var(--touch-min);
  background: none;
  border: 1px solid var(--border);
  border-radius: 10px;
  font-size: 20px;
  color: var(--text-muted);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: var(--transition);
}
.btn-reset:hover { border-color: #f44336; color: #f44336; }
.btn-pdf {
  background: var(--navy);
  color: var(--white);
  border: none;
  padding: 0 28px;
  height: var(--touch-min);
  border-radius: 10px;
  font-family: 'Outfit', sans-serif;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  white-space: nowrap;
}
.btn-pdf:hover { background: var(--navy-light); }
.btn-pdf:active { transform: scale(0.97); }

/* === RESPONSIVE === */
@media (max-width: 1100px) {
  .product-grid { grid-template-columns: repeat(3, 1fr); }
}
@media (max-width: 768px) {
  .product-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
  .header-inner { flex-direction: column; gap: 6px; text-align: center; }
  .header-right { justify-content: center; }
  .brand-name { font-size: 22px; }
  .section-header { flex-direction: column; gap: 8px; align-items: flex-start; }
  .bottom-inner { flex-direction: column; gap: 10px; }
  .bottom-stats { width: 100%; justify-content: space-around; }
  .bottom-actions { width: 100%; }
  .btn-pdf { flex: 1; }
  .section-tabs { top: 140px; }
  .card-quick-add { opacity: 1; }
}
@media (max-width: 480px) {
  .product-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; }
  .main { padding: 10px 8px; }
  .tab-btn { padding: 10px 10px; font-size: 11px; }
  .card-body { padding: 10px; }
  .card-name-ru { font-size: 13px; }
  .card-price { font-size: 18px; }
  .quick-actions { gap: 6px; }
  .btn-quick { font-size: 12px; padding: 6px 12px; }
}

/* === PDF STYLES === */
.pdf-wrap { font-family: 'Outfit', sans-serif; padding: 20px; color: #222; }
.pdf-header { display: flex; justify-content: space-between; align-items: flex-end; border-bottom: 3px solid #1a237e; padding-bottom: 8px; margin-bottom: 10px; }
.pdf-brand { font-family: 'Cormorant Garamond', serif; font-size: 22px; font-weight: 700; color: #1a237e; letter-spacing: 2px; }
.pdf-info { text-align: right; font-size: 9px; color: #555; }
.pdf-table { width: 100%; border-collapse: collapse; font-size: 9px; }
.pdf-table th { background: #1a237e; color: #fff; padding: 5px 6px; text-align: left; font-weight: 600; }
.pdf-table td { padding: 4px 6px; border-bottom: 1px solid #e0e0e0; vertical-align: middle; }
.pdf-table tr:nth-child(even) td { background: #f9f9f9; }
.pdf-sec-row td { background: #e8eaf6 !important; font-weight: 700; color: #1a237e; border-bottom: 2px solid #3f51b5; font-size: 10px; }
.pdf-total-row td { background: #1a237e !important; color: #fff; font-weight: 700; font-size: 11px; padding: 7px; border: none; }
.pdf-footer { margin-top: 10px; text-align: center; font-size: 7px; color: #999; border-top: 1px solid #ddd; padding-top: 5px; }

/* === QUOTATION PREVIEW MODAL === */
.quote-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  z-index: 200;
  justify-content: center;
  align-items: flex-start;
  padding: 20px;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.quote-overlay.open { display: flex; }
.quote-modal {
  background: var(--white);
  border-radius: 16px;
  width: 100%;
  max-width: 900px;
  margin: 20px auto;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  overflow: hidden;
  animation: modalIn 0.25s ease;
}
@keyframes modalIn {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.quote-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 24px;
  background: var(--navy);
  color: var(--white);
}
.quote-modal-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 20px;
  font-weight: 600;
}
.quote-close {
  background: none;
  border: none;
  color: rgba(255,255,255,0.6);
  font-size: 22px;
  cursor: pointer;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  transition: var(--transition);
}
.quote-close:hover { color: #fff; background: rgba(255,255,255,0.1); }
.quote-modal-body {
  padding: 20px 24px;
  max-height: 60vh;
  overflow-y: auto;
}

/* Quote table */
.qt { width: 100%; border-collapse: collapse; font-size: 13px; }
.qt th {
  background: var(--bg);
  padding: 8px 10px;
  text-align: left;
  font-weight: 600;
  font-size: 11px;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 2px solid var(--border);
  position: sticky;
  top: 0;
}
.qt td { padding: 8px 10px; border-bottom: 1px solid var(--border); vertical-align: middle; }
.qt tr:hover td { background: var(--gold-light); }
.qt-sec td {
  background: #e8eaf6;
  font-weight: 700;
  color: var(--navy);
  font-size: 12px;
  padding: 6px 10px;
  border-bottom: 2px solid #3f51b5;
}
.qt-total td {
  background: var(--navy);
  color: var(--white);
  font-weight: 700;
  font-size: 14px;
  padding: 12px 10px;
  border: none;
}
.qt-img { width: 44px; height: 44px; object-fit: contain; border-radius: 6px; background: #f3f3f3; }
.qt-name-ru { font-weight: 600; color: var(--navy); font-size: 13px; }
.qt-name-sub { font-size: 10px; color: var(--text-muted); }
.qt-vol { font-weight: 700; color: var(--navy); font-size: 12px; letter-spacing: 0.5px; }
.qt-qty {
  display: inline-flex;
  align-items: center;
  gap: 0;
  border: 1px solid var(--border);
  border-radius: 8px;
  overflow: hidden;
}
.qt-qty-btn {
  width: 32px;
  height: 32px;
  border: none;
  background: var(--bg);
  font-size: 16px;
  font-weight: 700;
  color: var(--navy);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}
.qt-qty-btn:hover { background: var(--gold-light); }
.qt-qty-btn:active { background: var(--gold); color: #fff; }
.qt-qty-val {
  width: 36px;
  text-align: center;
  font-weight: 700;
  font-size: 14px;
  color: var(--navy);
  border-left: 1px solid var(--border);
  border-right: 1px solid var(--border);
  padding: 4px 0;
}
.qt-sub { font-weight: 700; color: var(--gold); font-size: 14px; text-align: right; }

/* Summary boxes */
.qt-summary {
  display: flex;
  justify-content: space-around;
  gap: 12px;
  margin-top: 16px;
  padding-top: 16px;
  border-top: 2px solid var(--border);
}
.qt-summary-box {
  text-align: center;
  flex: 1;
  padding: 10px;
  background: var(--bg);
  border-radius: 10px;
}
.qt-summary-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
.qt-summary-value { font-size: 22px; font-weight: 700; color: var(--navy); margin-top: 2px; }
.qt-summary-box.total .qt-summary-value { color: var(--gold); font-size: 26px; }

.quote-modal-footer {
  padding: 14px 24px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  border-top: 1px solid var(--border);
  background: var(--bg);
}
.quote-modal-footer .btn-reset {
  min-height: var(--touch-min);
  padding: 0 20px;
  border-radius: 10px;
  font-size: 14px;
  width: auto;
  height: auto;
}
.quote-modal-footer .btn-pdf {
  flex: 1;
  min-height: var(--touch-min);
}

/* Button in bottom bar */
.btn-quote {
  background: var(--gold);
  color: var(--navy);
  border: none;
  padding: 0 20px;
  height: var(--touch-min);
  border-radius: 10px;
  font-family: 'Outfit', sans-serif;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  white-space: nowrap;
}
.btn-quote:hover { background: #d4b35a; }
.btn-quote:active { transform: scale(0.97); }

@media (max-width: 768px) {
  .quote-overlay { padding: 10px; }
  .quote-modal { margin: 10px auto; }
  .quote-modal-body { padding: 12px; }
  .qt { font-size: 12px; }
  .qt th, .qt td { padding: 6px 6px; }
  .qt-img { width: 36px; height: 36px; }
  .qt-summary { flex-direction: column; gap: 8px; }
}
